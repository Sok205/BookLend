<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Print Text with LOOP</title>
</head>
<body>
    <h1>Task 6: Print Text 3 Times (LOOP Construct Simulation)</h1>
    <p>This simulates a stored procedure that prints provided text three times on one line using a LOOP construct.</p>

    <form method="post">
        {% csrf_token %}
        <label for="text_param">Enter text (e.g., your favorite city):</label><br>
        <input type="text" id="text_param" name="text_param" value="{{ text_param|default:'' }}" size="50" required><br><br>

        <button type="submit">Execute LOOP Procedure</button>
    </form>

    {% if result %}
        <div style="margin-top: 20px; padding: 10px; border: 1px solid green; background-color: #e8f5e9;">
            <h2>Result:</h2>
            <p style="font-size: 18px;"><strong>{{ result }}</strong></p>
        </div>
    {% endif %}

    <h3 style="margin-top: 30px;">How the LOOP works:</h3>
    <pre>DECLARE counter INT DEFAULT 0;
DECLARE result VARCHAR(1000) DEFAULT '';

my_loop: LOOP
    SET counter = counter + 1;
    SET result = CONCAT(result, text_param, ' ');

    IF counter >= 3 THEN
        LEAVE my_loop;
    END IF;
END LOOP my_loop;</pre>

    <p><strong>Example:</strong> Enter "Paris" to get "Paris Paris Paris"</p>

    <p style="margin-top: 30px;"><a href="{% url 'catalog:index' %}">Back to menu</a></p>
</body>
</html>
